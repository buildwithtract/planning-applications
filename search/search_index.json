{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Planning Applications","text":""},{"location":"#dependencies","title":"Dependencies","text":"<p>We are using uv to manage our python dependencies in this project. To get started with uv, following their setup guide.</p>"},{"location":"#project-layout","title":"Project layout","text":"<pre><code>mkdocs.yml    # The configuration file.\ndocs/\n    index.md  # The documentation homepage.\n    ...       # Other markdown pages, images and other files.\n</code></pre>"},{"location":"#getting-up-and-running-as-a-new-developer","title":"Getting up and running as a new developer","text":"<ol> <li> <p>Download Docker if you haven't already</p> </li> <li> <p>Clone the repo</p> </li> <li> <p>Run <code>cp .env.example .env</code> to create a new .env file.</p> </li> <li> <p>Create a Zyte account and paste your API key into the .env file.</p> </li> <li> <p>Run <code>make reset_db</code> to set up a fresh postgres database.</p> </li> </ol> <p>You should see something like the following output eventually:</p> <pre><code>database   | 2024-12-28 14:33:31.524 UTC [1] LOG:  database system is ready to accept connections\n</code></pre> <ol> <li>Connect your database to a GUI</li> </ol> <p></p> <ol> <li>There are two ways to run the scraper:</li> </ol>"},{"location":"#running-the-scraper-in-docker","title":"Running the scraper in Docker","text":"<p>If you want to test the scraper end to end you probably want to run it in a Docker container.</p> <p>To do this, set <code>POSTGRES_HOST=db</code> in the .env file.</p> <p>Then run <code>make run lpa=&lt;LPA_NAME&gt;</code> to run the scraper.</p>"},{"location":"#running-the-scraper-outside-of-docker","title":"Running the scraper outside of Docker","text":"<p>If you are actively developing, you probably don't want to have to rebuild the scrapy container every time you make a change.</p> <p>That's okay, because you can still run the scraper outside of the container, but keep it writing to the database inside.</p> <p>To do this, set <code>POSTGRES_HOST=localhost</code> in the .env file.</p> <p>Then run <code>uv run scrapy crawl &lt;LPA_NAME&gt;</code> to run the scraper.</p>"},{"location":"#documentation","title":"Documentation","text":"<p>We are using mkdocs to build the documentation site.</p>"},{"location":"#commands","title":"Commands","text":"<ul> <li><code>mkdocs serve</code> - Start the live-reloading docs server.</li> <li><code>mkdocs build</code> - Build the documentation site.</li> <li><code>mkdocs -h</code> - Print help message and exit.</li> </ul>"},{"location":"coverage/","title":"Coverage","text":"LPA Scraper URL Progress Aberdeen Idox Link Aberdeenshire Idox Link Adur &amp; Worthing Idox Link Alderney - Link Amber Valley Custom Link Anglesey Custom Link Angus Idox Link Antrim &amp; Newtownabbey NIPP Link Ards and North Down NIPP Link Argyll and Bute Idox Link Armagh Banbridge Craigavon NIPP Link Arun Custom Link Ashfield Custom Link Ashford Arcus Link Babergh Idox Link Barking and Dagenham SmartAdmin Link Barnet Idox Link Getting objects Barnsley Custom Link Basildon Idox Link Basingstoke Idox Link Bassetlaw Idox Link Bath and North East Somerset Custom Link Bedford Idox Link Belfast NIPP Link Bexley Idox Link Birmingham Northgate Link Blaby Idox Link Blackburn Northgate Link Blackpool Idox Link Blaenau Gwent Custom Link Bolsover Idox Link Boston Custom Link Bournemouth, Christchurch and Poole (Bournemouth) Custom Link Bournemouth, Christchurch and Poole (Christchurch) Custom Link Bournemouth, Christchurch and Poole (Poole) Idox Link Bracknell Forest Idox Link Bradford Idox Link Braintree Idox Link Brecon Beacons Idox Link Brent Idox Link Brentwood Idox Link Bridgend Custom Link Brighton and Hove Idox Link Bristol Idox Link Broads Idox Link Bromley Idox Link Bromsgrove Idox Link Broxbourne Custom Link Broxtowe Idox Link Buckinghamshire (Aylesbury Vale) Idox Link Buckinghamshire (Chiltern and South Bucks) Idox Link Buckinghamshire (Wycombe) Idox Link Burnley Idox Link Caerphilly Idox Link Cairngorms Idox Link Calderdale Idox Link Cambridge Idox Link Getting objects Cambridgeshire Idox Link Camden Northgate Link Cannock Chase Agile Link Cardiff Idox Link Carmarthenshire Custom Link Castle Point Idox Link Causeway and Glens NIPP Link Central Bedfordshire Custom Link Ceredigion SmartAdmin Link Charnwood Custom Link Chelmsford Idox Link Cheltenham Idox Link Cherwell Custom Link Cheshire East SmartAdmin Link Cheshire West and Chester Idox Link Chesterfield Idox Link Chichester Idox Link City of London Idox Link Clackmannanshire Idox Link Colchester Custom Link Conwy Northgate Link Cornwall Idox Link Cotswold Idox Link Coventry SmartAdmin Link Crawley Custom Link Croydon Idox Link Cumberland (Allerdale) Arcus Link Cumberland (Carlisle) Idox Link Cumberland (Copeland) Custom Link Darlington Idox Link Dartmoor SmartAdmin Link Denbighshire SmartAdmin Link Derby Idox Link Derbyshire Dales Idox Link Derry and Strabane NIPP Link Devon Custom Link Doncaster Idox Link Dorset Custom Link Dover Idox Link Dudley Custom Link Dumfries and Galloway Idox Link Dundee Idox Link Durham Idox Link Ealing Idox Link East Ayrshire Idox Link East Cambridgeshire Idox Link East Devon Idox Link East Dunbartonshire Idox Link East Hampshire Idox Link East Hertfordshire Idox Link East Lindsey Idox Link East Lothian Idox Link East Renfrewshire Idox Link East Riding Idox Link East Staffordshire Custom Link East Suffolk Idox Link East Sussex Custom Link Edinburgh Idox Link Enfield Idox Link Epping Forest Arcus Link Erewash Custom Link Essex Custom Link Exeter Idox Link Exmoor Agile Link Falkirk Idox Link Fenland Idox Link Fermanagh and Omagh NIPP Link Fife Idox Link Flintshire Agile Link Folkestone and Hythe Arcus Link Forest of Dean Idox Link Gateshead Idox Link Gedling Idox Link Glasgow Idox Link Gloucester Idox Link Gloucestershire Idox Link Gosport Idox Link Gravesham Idox Link Greenwich Idox Link Guernsey Custom Link Guildford Idox Link Gwynedd SmartAdmin Link Hackney SmartAdmin Link Halton Idox Link Hammersmith and Fulham Idox Link Harborough Idox Link Haringey Arcus Link Harlow Idox Link Harrow SmartAdmin Link Hart Idox Link Hartlepool Custom Link Hastings Idox Link Havant Idox Link Havering Custom Link Hertsmere Idox Link High Peak Custom Link Hillingdon Custom Link Hinckley and Bosworth Idox Link Horsham Idox Link Hounslow Custom Link Hull Idox Link Huntingdonshire Idox Link Ipswich Custom Link Isle of Man Idox Link Isle of Wight Idox Link Islington Agile Link Jersey Custom Link Kensington and Chelsea Custom Link Kent Custom Link Kingston Idox Link Kirklees Custom Link Lake District Agile Link Lambeth Idox Link Lancashire Custom Link Leeds Idox Link Leicester Custom Link Leicestershire Custom Link Lewes and Eastbourne Idox Link Lewisham Idox Link Lichfield Idox Link Lincoln Idox Link Lincolnshire Custom Link Lisburn and Castlereagh NIPP Link Loch Lomond Idox Link London Custom Link Luton Idox Link Maidstone Idox Link Maldon Idox Link Malvern Hills Custom Link Manchester Idox Link Mansfield Idox Link Medway Idox Link Melton Idox Link Merthyr Tydfil Idox Link Merton Custom Link Mid Devon Idox Link Mid East Antrim NIPP Link Mid Suffolk Idox Link Mid Sussex Idox Link Mid Ulster NIPP Link Middlesbrough Agile Link Milton Keynes Arcus Link Mole Valley Agile Link Monmouthshire Idox Link Neath Port Talbot Idox Link New Forest District Idox Link New Forest Park Agile Link Newark and Sherwood Idox Link Newcastle under Lyme Idox Link Newcastle upon Tyne SmartAdmin Link Newham Idox Link Newport Idox Link Newry Mourne Down NIPP Link Norfolk Custom Link North Norfolk Idox Link North Devon Custom Link North East Derbyshire Idox Link North East Lincolnshire Idox Link North Hertfordshire Idox Link North Kesteven Idox Link North Lanark Idox Link North Lincolnshire Custom Link North Northamptonshire (Corby) Idox Link North Northamptonshire (East Northamptonshire) Idox Link North Northamptonshire (Kettering) Custom Link North Northamptonshire (Wellingborough) Idox Link North Somerset Idox Link North Tyneside Idox Link North West Leicestershire Idox Link North York Moors Custom Link North Yorkshire (Craven) Idox Link North Yorkshire (Hambleton) Idox Link North Yorkshire (Harrogate) Idox Link North Yorkshire (Richmondshire) Idox Link North Yorkshire (Ryedale) Custom Link North Yorkshire (Scarborough) Idox Link North Yorkshire (Selby) Idox Link Northumberland Idox Link Northumberland National Park Custom Link Nottingham Idox Link Nottinghamshire Custom Link Nuneaton Custom - Oadby and Wigston Idox Link Old Oak Park Royal Agile Link Oldham Idox Link Oxford Idox Link Oxfordshire Custom Link Peak District Custom Link Pembrokeshire Coast Agile Link Pembrokeshire Agile Link Peterborough Idox Link Plymouth Idox Link Portsmouth Idox Link Powys Idox Link Preston Custom Link Reading Custom Link Redbridge Agile Link Redcar and Cleveland Custom Link Redditch Idox Link Reigate Idox Link Renfrewshire Idox Link Rhondda Idox Link Ribble Valley Custom Link Richmond Custom Link Rochdale Idox Link Rochford Custom Link Rossendale Idox Link Rother Custom Link Rotherham Custom Link Rugby Agile Link Runnymede Northgate Link Rushcliffe Idox Link Rushmoor Idox Link Rutland Idox Link Salford Arcus Link Sandwell Idox Link Sark - Scilly Isles - Sefton Idox Link Sevenoaks Idox Link Sheffield Idox Link Shropshire Idox Link Slough Agile Link Snowdonia Agile Link Solihull Idox Link Somerset (Mendip) Idox Link Somerset (Sedgemoor) Custom Link Somerset (South Somerset) Idox Link Somerset (Taunton Deane) Custom Link Somerset (West Somerset) Idox Link South Cambridgeshire Idox Link South Derbyshire Custom Link South Downs Idox Link South Gloucestershire Idox Link South Hams Custom Link South Holland Custom Link South Kesteven Idox Link South Lanarkshire Idox Link South Norfolk Broadland Idox Link South Oxfordshire Custom Link South Ribble Idox Link South Staffordshire Idox Link South Tyneside Custom Link Southampton Idox Link Southend Idox Link Southwark Idox Link Spelthorne Idox Link St Albans Custom Link Stafford Idox Link Staffordshire Idox Link Staffordshire Moorlands Custom Link Stevenage Idox Link Stirling Idox Link Stockport Idox Link Stockton-on-Tees Idox Link Stoke on Trent Idox Link Stratford on Avon Custom Link Stroud Idox Link Suffolk Idox Link Sunderland Idox Link Surrey Heath Idox Link Sutton Idox Link Swale Idox Link Swansea Idox Link Swindon Idox Link Tameside Idox Link Tamworth Custom Link Teignbridge Idox Link Telford Custom Link Tendring Idox Link Test Valley Idox Link Tewkesbury Idox Link Thanet Idox Link Three Rivers Idox Link Thurrock Idox Link Tonbridge and Malling Agile Link Torbay Idox Link Torfaen Idox Link Torridge Idox Link Tower Hamlets Idox Link Tunbridge Wells Idox Link Uttlesford Idox Link Vale of Glamorgan Custom Link Vale of White Horse Custom Link Wakefield Idox Link Walsall Custom Link Waltham Forest SmartAdmin Link Wandsworth Northgate Link Warrington SmartAdmin Link Warwick Idox Link Warwickshire Idox Link Watford Idox Link Wealden Custom Link Welwyn Hatfield Custom Link West Berkshire Idox Link West Devon Custom Link West Dunbarton Custom Link West Lancashire Idox Link West Lindsey Custom Link West Lothian Idox Link West Northamptonshire Custom Link West Oxfordshire Idox Link West Suffolk Idox Link West Sussex Custom Link Westminster Idox Link Getting objects Westmorland and Furness (Barrow) Custom Link Westmorland and Furness (Eden and South Lakeland) Custom Link Wiltshire Custom Link Winchester Idox Link Windsor and Maidenhead Idox Link Wirral SmartAdmin Link Wokingham Custom Link Wolverhampton Idox Link Worcester Custom Link Worcestershire Custom Link Wrexham Custom Link Wychavon Custom Link Wyre Forest Idox Link York Idox Link Yorkshire Dales Agile Link"},{"location":"database/","title":"Database Tables","text":""},{"location":"database/#planning_application","title":"planning_application","text":"Name Type Nullable Default Foreign Key uuid uuid False uuid_generate_v4() NULL lpa varchar(255) False NULL NULL reference varchar(255) False NULL NULL website_reference varchar(255) False NULL NULL url text False NULL NULL submitted_date date False NULL NULL validated_date date False NULL NULL address varchar(255) False NULL NULL description text False NULL NULL application_status varchar(255) False NULL NULL application_decision varchar(255) False NULL NULL application_decision_date date False NULL NULL appeal_status varchar(255) False NULL NULL appeal_decision varchar(255) False NULL NULL appeal_decision_date date False NULL NULL application_type varchar(255) False NULL NULL expected_decision_level varchar(255) False NULL NULL actual_decision_level varchar(255) False NULL NULL case_officer varchar(255) False NULL NULL parish varchar(255) False NULL NULL ward varchar(255) True NULL NULL amenity_society varchar(255) True NULL NULL district_reference varchar(255) False NULL NULL applicant_name varchar(255) False NULL NULL applicant_address varchar(255) False NULL NULL environmental_assessment_requested bool False NULL NULL first_imported_at timestamp False CURRENT_TIMESTAMP NULL last_imported_at timestamp False CURRENT_TIMESTAMP NULL"},{"location":"database/#planning_application_documents","title":"planning_application_documents","text":"Column Type Nullable Default Foreign Key uuid uuid False uuid_generate_v4() NULL planning_application_uuid uuid False NULL planning_applications.uuid date_published date False NULL NULL document_type varchar(255) False NULL NULL description text False NULL NULL url text False NULL NULL drawing_number varchar(255) True NULL NULL first_imported_at timestamp False CURRENT_TIMESTAMP NULL last_imported_at timestamp False CURRENT_TIMESTAMP NULL"},{"location":"database/#planning_application_geometries","title":"planning_application_geometries","text":"Column Type Nullable Default Foreign Key uuid uuid False uuid_generate_v4() NULL planning_application_uuid uuid False NULL planning_applications.uuid geometry geometry False NULL NULL first_imported_at timestamp False CURRENT_TIMESTAMP NULL last_imported_at timestamp False CURRENT_TIMESTAMP NULL <p>--- idox section</p>"},{"location":"database/#planning_applications","title":"planning_applications","text":"Name Type Nullable Default Foreign Key uuid uuid False uuid_generate_v4() NULL lpa varchar(255) False NULL NULL idox_key_val varchar(255) False NULL NULL reference varchar(255) False NULL NULL application_received date False NULL NULL application_validated date False NULL NULL address varchar(255) False NULL NULL proposal text False NULL NULL status varchar(255) False NULL NULL appeal_status varchar(255) False NULL NULL appeal_decision varchar(255) False NULL NULL application_type varchar(255) False NULL NULL expected_decision_level varchar(255) False NULL NULL case_officer varchar(255) False NULL NULL parish varchar(255) False NULL NULL ward varchar(255) True NULL NULL amenity_society varchar(255) True NULL NULL district_reference varchar(255) False NULL NULL applicant_name varchar(255) False NULL NULL applicant_address varchar(255) False NULL NULL environmental_assessment_requested bool False NULL NULL first_imported_at timestamp False CURRENT_TIMESTAMP NULL last_imported_at timestamp False CURRENT_TIMESTAMP NULL"},{"location":"database/#planning_application_documents_1","title":"planning_application_documents","text":"Column Type Nullable Default Foreign Key uuid uuid False uuid_generate_v4() NULL planning_application_uuid uuid False NULL planning_applications.uuid date_published date False NULL NULL document_type varchar(255) False NULL NULL drawing_number varchar(255) True NULL NULL description text False NULL NULL url text False NULL NULL first_imported_at timestamp False CURRENT_TIMESTAMP NULL last_imported_at timestamp False CURRENT_TIMESTAMP NULL"},{"location":"scrapers/idox/","title":"Idox","text":""},{"location":"scrapers/idox/#a-visual-walkthrough","title":"A Visual Walkthrough","text":"<p>Idox make the planning portal for software uses by most local planning authorities in the UK.</p> <p>This is what the main search form of an Idox planning portal looks like:</p>"},{"location":"scrapers/idox/#the-main-form","title":"The Main Form","text":""},{"location":"scrapers/idox/#the-advanced-search-form","title":"The Advanced Search Form","text":"<p>If we click over to the \"Advanced\" tab, this is what we see:</p> <p></p> <p>The URL of the advanced search tab is, in the case of Cambridge:</p> <p><code>https://applications.greatercambridgeplanning.org/online-applications/search.do?action=advanced</code></p> <p>This is the scraper's start URL.</p>"},{"location":"scrapers/idox/#the-advanced-search-forms-results-page","title":"The Advanced Search Form's Results Page","text":"<p>If we leave the applications button selected, and enter a start and end value for the \"Date Validated\" field, we get a list of results that looks something like this:</p> <p></p>"},{"location":"scrapers/idox/#an-application","title":"An Application","text":"<p>If we click on one of those applications, (not on pictured in this case), we get taken to the application's \"Details &gt; Summary\" tab:</p>"},{"location":"scrapers/idox/#the-details-summary-tab","title":"The Details &gt; Summary Tab","text":""},{"location":"scrapers/idox/#url","title":"URL","text":"<p><code>https://applications.greatercambridgeplanning.org/online-applications/applicationDetails.do?activeTab=summary&amp;keyVal=Q0YSEDDXIK800</code></p>"},{"location":"scrapers/idox/#information","title":"Information","text":"<ul> <li>Reference</li> <li>Application Received</li> <li>Application Validated</li> <li>Address</li> <li>Proposal</li> <li>Status</li> <li>Decision</li> <li>Decision Issued Date</li> <li>Appeal Status</li> <li>Appeal Decision</li> </ul>"},{"location":"scrapers/idox/#image","title":"Image","text":""},{"location":"scrapers/idox/#the-details-further-information-tab","title":"The Details &gt; Further Information Tab","text":""},{"location":"scrapers/idox/#url_1","title":"URL","text":"<p><code>https://applications.greatercambridgeplanning.org/online-applications/applicationDetails.do?activeTab=details&amp;keyVal=Q0YSEDDXIK800</code></p>"},{"location":"scrapers/idox/#information_1","title":"Information","text":"<ul> <li>Application Type</li> <li>Decision</li> <li>Expected Decision Level</li> <li>Case Officer</li> <li>Parish</li> <li>Ward</li> <li>District Reference</li> <li>Applicant Name</li> <li>Agent Name</li> <li>Agent Company Name</li> <li>Agent Address</li> <li>Environmental Assessment</li> </ul>"},{"location":"scrapers/idox/#image_1","title":"Image","text":""},{"location":"scrapers/idox/#the-documents-tab","title":"The Documents Tab","text":""},{"location":"scrapers/idox/#url_2","title":"URL","text":"<p><code>https://applications.greatercambridgeplanning.org/online-applications/applicationDetails.do?activeTab=documents&amp;keyVal=Q0YSEDDXIK800</code></p>"},{"location":"scrapers/idox/#information_2","title":"Information","text":"<p>For each document, we get:</p> <ul> <li>Date Published</li> <li>Document Type</li> <li>Measure</li> <li>Drawing Number</li> <li>Description</li> </ul>"},{"location":"scrapers/idox/#image_2","title":"Image","text":""},{"location":"scrapers/idox/#the-map-tab","title":"The Map Tab","text":""},{"location":"scrapers/idox/#url_3","title":"URL","text":"<p><code>https://applications.greatercambridgeplanning.org/online-applications/applicationDetails.do?activeTab=map&amp;keyVal=Q0YSEDDXIK800</code></p>"},{"location":"scrapers/idox/#image_3","title":"Image","text":""},{"location":"scrapers/idox/#the-scraper","title":"The Scraper","text":""}]}